
blinkaが対応していないので...spiでライブラリを独自開発しました。　

2025/10/10
Pi5 BookWorm12.8. 32bit 直接および仮想環境で動作確認OK
Pi4 Bullseye11.11 32bit 直接および仮想環境で動作確認OK


**インストール方法

SPIを有効化
sudo raspi-config
にてSPIを有効にしてください。

#システム全体の更新
sudo apt update
sudo apt upgrade

aptで入るライブラリをインストールします
外部フォント関係のインストール
sudo apt-get install fonts-dejavu
sudo apt-get install fonts-ipafont

プログラムをダウンロード
git clone https://github.com/momorara/tft177

仮想環境を作る際は
python3 -m venv V_tft177 --system-site-packages
としてください。







今回は、仮想環境を使わなくても動作しますが、一応説明をつけておきます。

-------------　仮想環境について　--------------------------------------
Pythonに関して、BookWormからは仮想環境がデフォルト導入された。
これに伴って、pipでのライブラリのインストールが従来通りできなくなりました。
基本はaptでインストールするのが基本らしいですが、aptに無い物はPipで入れていたのに...
どうすんのということで、

で方法としては、pipをやってみるとエラーメッセージとともに3つの方法が提示されています。
a.無理やり入れる ただし、システムを壊すかもよって文言があります。
b.仮想環境を使って入れる
c.pipxで入れる

a.の方法は簡単ですが、実際にシステムを壊す危険がある様です。
b.c.は両方仮想環境みたいですが、今後の事を考えるとb.の方法に慣れておくことが良い様です。
今後はこちらが標準になると思われます。


仮想環境venvで行う
・仮想環境と言ってもいろいろな方式がある様ですが、BookWormで標準となっているのが
 venvって方式らしい。


仮想環境の作り方 今回の仮想環境の名前はV_tft177とします。
1. python3 -m venv V_tft177 --system-site-packages
   V_tft177が仮想環境の名前

2. 仮想環境の有効化
　　source V_tft177/bin/activate
   これで仮想環境V_tft177が有効になり、プロンプトが変わります。
　　(V_tft177) pi@raspberrypi:~/ $
   こんな感じ

3. 仮想環境から抜け出すのは
　　deactivate

4.　仮想環境を削除するには以下を実行。
　　rm -rf V_tft177

5. 仮想環境下でのライブラリのインストール
　　venv環境でのパッケージ管理はpipを使うのが一般的らしい。
　　仮想環境に入って普通にpipする
　　 pip install -U foge
　　-Uとすることで、すでに入っているパッケージのアップデートを行うことができます。

6. 仮想環境下でpythonプログラムの実行
　　・仮想環境を有効にする
　　・pythonプログラムのあるディレクトリに移動
　　・ ../V_tft177/bin/python hoge.py

7.注意
　　仮想環境は、ライブラリ的にはまっさらな状態です、OS標準のライブラリ以外は入ってない状態
　　なので、面倒ですが、必要なライブラリは1から入れる必要があります。
-----------------------------------------------------------------------------

